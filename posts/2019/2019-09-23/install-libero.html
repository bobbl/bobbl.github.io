<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--
    <link rel="alternate" type="application/rss+xml" title="RSS Feed bobbl.github.io" href="../../../rss.xml" />
-->
    <link rel="stylesheet" href="../../../style/blog.css">
    <title>Install Microsemi Libero 12.1 on Ubuntu 18.04</title>
  </head>
  <body>
    <header style="background:#fefbd8;">
      <div class="maxwidth" style="padding: 10pt;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <a style="text-decoration:none; color:black; font-weight:normal; font-size:30pt; font-family:Arial,Helvetica,sans-serif;"
              href="../../../index.html">
            bob]<b>bl</b>[og
          </a>
          <div>
            joerg.mische@gmail.com
          </div>
          <div>
            <a href="../../../static/about.html">about</a>
          </div>
        </div>
      </div>
    </header>
    <main>
      <br>
      <div class="maxwidth">

<h1>Install Microsemi Libero 12.1 on Ubuntu 18.04</h1>
<p>This is how I installed Libero SoC v12.1 on Ubuntu 18.04 LTS (Bionic
Beaver). What helped me a lot where the instructions to install Libero
on <a
href="http://www.fabienm.eu/flf/installing-libero-on-debian-9">Debian</a>
and <a href="https://wiki.archlinux.org/index.php/Microsemi_Libero">Arch
Linux</a></p>
<h2 id="get-license">Get License</h2>
<p>Create a directory for the license server (here I use
<code>~/.local/microsemi/license</code>)</p>
<pre><code>mkdir --p /home/USERNAME/.local/microsemi/license</code></pre>
<p>Download the “Linux Licensing Daemon” from <a
href="https://www.microsemi.com/product-directory/design-resources/1711-licensing#downloads"
class="uri">https://www.microsemi.com/product-directory/design-resources/1711-licensing#downloads</a>
to the license directory and extract it with</p>
<pre><code>tar xf Linux_Licensing_Daemon.tar.gz</code></pre>
<p>Create an account on &lt;www.microsemi.com&gt; and request a “Libero
Silver 1Yr Floating License for Windows/Linux Server”. You have to enter
your MAC address (12 hexadecimal digits without colons), which you can
get by typing</p>
<pre><code>ip link | grep ether</code></pre>
<p>The license file is sent via email. Store the license file
<code>License.dat</code> in the license directory.</p>
<p>Now the first four lines of the license file must be edited, but
<em>not the rest of the file</em>. In the first line, replace
<code>&lt;put.hostname.here&gt;</code> by <code>localhost</code>. In
lines 2 to 4 replace <code>PATH</code> by the absolute path to the
license daemon directory. The first 4 lines schould then look like
that:</p>
<pre><code>SERVER localhost 112233445566 1702
DAEMON actlmgrd /home/USERNAME/microsemi/license/Linux_Licensing_Daemon/actlmgrd
DAEMON mgcld /home/USERNAME/microsemi/license/Linux_Licensing_Daemon/mgcld
VENDOR snpslmd /home/USERNAME/microsemi/license/Linux_Licensing_Daemon/snpslmd</code></pre>
<p>Install the depedencies</p>
<pre><code>sudo apt install lsb</code></pre>
<p>And start the license server with</p>
<pre><code>Linux_Licensing_Daemon/lmgrd -c License.dat -log /tmp/lmgrd.log</code></pre>
<h2 id="install-libero">Install Libero</h2>
<p>Download “Libero SoC v12.1 for Linux” from <a
href="https://www.microsemi.com/product-directory/design-resources/1750-libero-soc#downloads"
class="uri">https://www.microsemi.com/product-directory/design-resources/1750-libero-soc#downloads</a>.</p>
<p>The downloaded binary is a self-extracting archive built with
InstallAnywhere. Before executing it, set its execute bit must be set
and some dependencies have to be installed:</p>
<pre><code>sudo apt install libxtst6:i386 libqtgui4:i386 libxrender1:i386 apt-file
chmod +x Libero_SoC_v12.1_lin.bin
./Libero_SoC_v12.1_lin.bin</code></pre>
<p>Now the graphical installer should be launched. If not, there are
still some library dependencies unresolved. From my experience, the
console mode installation does not work at all. Quit it by typing
<code>quit</code> and try to install additional X or Qt libraries until
the graphical installer is started.</p>
<p>Within the graphical installer, I recommend to change the install
path to <code>/home/USERNAME/.local/microsemi/Libero_SoC-v12.1</code>
and the common directory to
<code>/home/USERNAME/.local/microsemi/common</code>. Otherwise you need
root permissions whenever Libero updates the IP cores.</p>
<p>libz must be removed:</p>
<pre><code>rm /home/USERNAME/.local/microsemi/Libero:SoC-v12.1/Libero/lib/libz.so.1</code></pre>
<p>Install dependencies:</p>
<pre><code>sudo apt install libmotif-dev libglib2.0-0:i386 libfreetype6:i386 \
    libsm6:i386 libfontconfig1:i386 libpulse0:i386 libqt5gui5:i386</code></pre>
<p>libpng12-0 must be installed manually (source: <a
href="https://www.linuxuprising.com/2018/05/fix-libpng12-0-missing-in-ubuntu-1804.html"
class="uri">https://www.linuxuprising.com/2018/05/fix-libpng12-0-missing-in-ubuntu-1804.html</a>).
Both the 32 bit version (for Libero itself) and the 64 bit version (for
the chip planner) are required.</p>
<pre><code>wget http://security.ubuntu.com/ubuntu/pool/main/libp/libpng/libpng12-0_1.2.54-1ubuntu1.1_i386.deb
wget http://security.ubuntu.com/ubuntu/pool/main/libp/libpng/libpng12-0_1.2.54-1ubuntu1.1_amd64.deb
sudo apt install ./libpng12-0_1.2.54-1ubuntu1.1_i386.deb
sudo apt install ./libpng12-0_1.2.54-1ubuntu1.1_amd64.deb</code></pre>
<p>The Libero scripts have the shebang <code>#!/bin/sh</code> although
bash syntax is used. Therefore dash must be disabled by</p>
<pre><code>sudo dpkg-reconfigure dash</code></pre>
<p>and choosing “No”.</p>
<p>Before actually starting Libero, some environment variables have to
be set:</p>
<pre><code>export LM_LICENSE_FILE=1702@localhost
export SNPSLMD_LICENSE_FILE=1702@localhost
export LD_LIBRARY_PATH=/usr/lib/i386-linux-gnu/:/usr/lib/x86_64-linux-gnu/:/usr/lib
/home/USERNAME/.local/microsemi/Libero/bin/libero</code></pre>
<h2 id="install-softconsole-6.0">Install SoftConsole 6.0</h2>
<p>Dpendencies:</p>
<pre><code>sudo apt-get install build-essential libstdc++6:i386</code></pre>
<p>Download the Installer and make it executable:</p>
<pre><code>chmod +x Microsemi-SoftConsole-v6.0.0.116-Linux-x86_64-Installer
./Microsemi-SoftConsole-v6.0.0.116-Linux-x86_64-Installer</code></pre>
<p>Accept the license and set the destination location to
<code>/home/USERNAME/.local/microsemi/SoftConsole_v6.0</code></p>
<p>Avoid root permission when accessing SoftConsole hardware:</p>
<pre><code>sudo cp ~/.local/microsemi/SoftConsole_v6.0/openocd/share/openocd/contrib/60-openocd.rules /etc/udev/rules.d/</code></pre>
<p class="lastmodified">2019-09-23</p>
      </div>
    </main>
  </body>
</html>
